macro effect return value:
	replacement:
		@intrinsic("return", value)

effect set var to val:
    execute:
        @intrinsic("store", var, val)

effect print msg as line:
    execute:
        @intrinsic("call", "libc", "printf", "%ld\n", msg)

expression left < right:
	get:
		return @intrinsic("less than", left, right)

macro expression left + right:
    replacement:
        @intrinsic("add", left, right)

macro section loop while condition:
	replacement:
		@intrinsic("loop while", condition)

set index to 0

loop while index < 10:
	print index as line
	set index to index + 1