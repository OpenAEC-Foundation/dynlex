# DynLex String Library

import lib/array.dl

macro expression character index of str:
    replacement:
        @intrinsic("dereference", str + index)

expression the length of str:
    get:
        set len to 0
        set ch to character len of str
        loop while ch is not 0:
            set len to len + 1
            set ch to character len of str
        return len
